# é¢˜ç›®åˆ†å¸ƒ

- æ€ç»´ (2æ˜“) 
- æ•°å­¦ + æ€ç»´(1ä¸­)
- åšå¼ˆ (2åŸºç¡€+1ä¸­)
- æ•°è®º + åšå¼ˆ(1æ˜“)
- æ•°è®º (2åŸºç¡€)

# ç®€å•æ€ç»´é¢˜

## B. Round Corridor 

- ä¸¤ä¸ªæ‰‡åŒºï¼Œå·²çŸ¥å†…éƒ¨æ‰‡åŒºè¢«åˆ†å‰²ä¸º$n$ä»½ï¼Œå¤–éƒ¨æ‰‡åŒºè¢«åˆ†å‰²ä¸º$m$ä»½ï¼Œå†…éƒ¨æ‰‡åŒºå’Œå¤–éƒ¨æ‰‡åŒºçš„åˆ†éš”çº¿é‡åˆï¼Œå½¢æˆä¸€å µå¢™æ— æ³•é€šè¿‡ã€‚åˆ¤æ–­$(s_x,s_y)$å’Œ$(e_x,e_y)$æ˜¯å¦è¿é€š
- è¿é€šå—æ•°é‡ï¼š$gcd(n,m)$ï¼Œåˆ¤æ–­ç»™å®šçš„ä¸¤å—æ˜¯å¦åœ¨åŒä¸€è¿é€šå—

```cpp
#include<iostream>
#include<algorithm>
#include<stdio.h> 
using namespace std;
typedef long long ll;
ll n,m,sx,sy,ex,ey;
int q;
ll gcd(ll a,ll b){
	return b==0?a:gcd(b,a%b);
}
int main(){
	cin>>n>>m>>q;
	ll num=gcd(n,m);
	ll nn = n/num,mm=m/num;
	while(q--){
		cin>>sx>>sy>>ex>>ey;
		ll mo1=0,mo2=0;
		if(sx==1)mo1=(sy%nn==0)?sy/nn:sy/nn+1;
		else mo1=(sy%mm==0)?sy/mm:sy/mm+1;
		if(ex==1)mo2=(ey%nn==0)?ey/nn:ey/nn+1;
		else mo2=(ey%mm==0)?ey/mm:ey/mm+1;
		if(mo1==mo2)puts("Yes");
		else puts("No");
	}
	return 0;
}
```

## D. Frog Jump

- ç»™å‡ºä¸€ä¸ªåªåŒ…å«ä¸¤ä¸ªå­—ç¬¦$Lã€R$çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœä¸º$L$ï¼Œåªèƒ½å‘å·¦èµ°ï¼Œå¦‚æœä¸º$R$ï¼Œåªèƒ½å‘å³èµ°ï¼Œé—®ä¸€åªé’è›™ä»æœ€å·¦ç«¯å¼€å§‹èµ°ï¼Œèƒ½èµ°çš„è·ç¦»ä¸º$[1,d]$ï¼Œæ±‚æœ€å°çš„$d$ä½¿å¾—é’è›™èƒ½ä»¥æœ€å°‘çš„æ¬¡æ•°ä»å·¦è¾¹è·³åˆ°å³è¾¹
- å¯»æ‰¾ä¾æ¬¡å‡ºç°çš„'R'å­—ç¬¦ä¹‹é—´æœ€å¤§çš„ä½ç½®ä¹‹å·®

```cpp
#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<string>
using namespace std;
typedef long long ll;
const int maxn = 2e5+5;
int main(){
	int t;
	string s;
	cin>>t;
	while(t--){
		cin>>s;
		int len=s.length();
		int sum=0,cnt=0;
		for(int i=0;i<len;i++){
			if(s[i]=='R'){
				if(cnt>sum)sum=cnt;
				cnt=0;
			}
			else{
				cnt++;
			}
		}
		if(sum<cnt)sum=cnt;
		if(sum!=0)cout<<sum+1<<endl;
		else puts("1");
	}
	return 0;
} 
```

# åŸºç¡€é¢˜

## C. Ticket Game

- ç»™é•¿åº¦ä¸ºnçš„ä¸²ï¼Œå†…å®¹ä¸º$0-9$æˆ–?ã€‚Monocarpå…ˆæ‰‹ï¼ŒæŠŠ?å¡«ä¸Šä¸€ä¸ªæ•°ï¼Œå¸Œæœ›å‰n/2ä¸ªæ•°å’Œ!=ån/2ä¸ªæ•°å’Œã€‚Bicarpå¸Œæœ›ç›¸ç­‰ï¼Œé—®è°èƒ½èµ¢ã€‚
- åˆ†ä¸¤åŠï¼Œæ±‚æ¯ä¸€éƒ¨åˆ†çš„æ•°å­—å’Œå’Œ?çš„æ•°é‡ï¼Œå·¦åŠéƒ¨åˆ†å’Œä¸ºxï¼Œå³åŠéƒ¨åˆ†å’Œä¸ºyï¼Œå·¦è¾¹æœ‰aä¸ª?ï¼Œå³è¾¹æœ‰bä¸ª?
- è‹¥$x=y$ï¼Œ$aâ‰ b$ï¼Œå…ˆæ‰‹èƒœï¼›å¦åˆ™åæ‰‹å¡« 9-å…ˆæ‰‹å¡«çš„æ•°ï¼Œåæ‰‹èƒœ
- è‹¥$xâ‰ y$ï¼Œå‡è®¾$x>y$
  - è‹¥$a>=b$ï¼Œå…ˆæ‰‹å…¨å¡«9ï¼Œèƒœ
  - è‹¥$a<b$ï¼Œçœ‹å·¦å³ä¸¤è¾¹çš„å·®å€¼ï¼Œå¦‚æœå·®å€¼(x-y)==(b-a)/2*9ï¼Œåˆ™åæ‰‹èƒœ(å› ä¸ºæ— è®ºå…ˆæ‰‹å¡«ä»€ä¹ˆï¼Œåæ‰‹å¡« 9-å…ˆæ‰‹å¡«çš„æ•°ï¼Œå°±å¯ä»¥èµ¢)
- [æ¯”è¾ƒå¥½çš„æƒ³æ³•](https://codeforces.com/blog/entry/69815)

ä»£ç å†™çš„ç•¥å¤æ‚ï¼Œå¯ä»¥çœ‹ä¸Šé¢æ›´ä¼˜åŒ–çš„å†™æ³•
```cpp
#include<stdio.h>
#include<iostream>
#include<string>
using namespace std;
int n;
string s;
int main(){
	cin>>n;
	cin>>s;
	int l=s.length();
	int cn1=0,cn2=0,sum1=0,sum2=0;
	for(int i=0;i<l/2;i++){
		if(s[i]=='?')cn1++;
		else sum1+=s[i]-'0';
	}
	for(int i=l/2;i<l;i++){
		if(s[i]=='?')cn2++;
		else sum2+=s[i]-'0';
	}
	int c=abs(cn1-cn2);
	if(c&1)puts("Monocarp");
	else{
		if(cn1>cn2){
			if(sum1<sum2){
				int sum=sum2-sum1;
				if(sum==(cn1-cn2)/2*9)puts("Bicarp");
				else puts("Monocarp");
			} 
			else puts("Monocarp");
		}
		else if(cn1<cn2){
			if(sum1>sum2){
				int sum=sum1-sum2;
				if(sum==(cn2-cn1)/2*9)puts("Bicarp");
				else puts("Monocarp");
			}
			else puts("Monocarp");
		}
		else{
			if(sum1!=sum2)puts("Monocarp");
			else puts("Bicarp");
		}
	}
	return 0;
}
```

## F. Stone

- ä¸¤äººè½®æµå†™ä¸€ä¸ªæ•°å­—ï¼Œå…ˆæ‰‹å…ˆå†™ä¸€ä¸ª$[1,k]$ä¹‹é—´çš„æ•°$x$ï¼Œåæ‰‹å†å†™ä¸€ä¸ªæ¯”$x$å¤§$[1,k]$çš„æ•°$y$ï¼Œç›´åˆ°æŸä¸ªäººå†™çš„æ•°å¤§äºç­‰äº$n$ï¼Œåˆ™è´¥
- å·´ä»€åšå¼ˆçš„åº”ç”¨ï¼šæœ‰$nâˆ’1$ä¸ªçŸ³å­ï¼Œæ¯ä¸ªäººå¯ä»¥å–$1,2,3, â€¦ , ğ‘˜$ä¸ªçŸ³å­ï¼Œè°å…ˆå–å®Œ$n-1$ä¸ªçŸ³å­ï¼Œè°è·èƒœ

```cpp
#include<iostream>
#include<algorithm>
#include<stdio.h> 
using namespace std;
int n,k;
int main(){
	int n,k;
	while(cin>>n>>k){
		if(!n&&!k)break;
		if((n-1)%(k+1)==0)puts("Jiang");
		else puts("Tang");
	}
	return 0;
}
```

## A. Who is better

- è£¸çš„æ–æ³¢é‚£å¥‘åšå¼ˆ + è£¸çš„æ‹“å±•ä¸­å›½å‰©ä½™å®šç† = å¥—æ¿å­

    ```cpp
    #include<iostream>
    #include<algorithm>
    #include<stdio.h> 
    using namespace std;
    typedef long long ll;
    const int maxn=15;
    ll a[maxn],b[maxn],fi[70];
    int n;
    ll exgcd(ll a,ll b,ll &x,ll &y){
        if(a==0&&b==0)return -1;
        if(b==0){x=1;y=0;return a;}
        ll d=exgcd(b,a%b,y,x);
        y-=a/b*x;
        return d;
    }
    ll excrt(){
        ll a1=b[0],n1=a[0],a2,n2,d,x,y,gcd;//ä½™æ•° b[] é™¤æ•° a[]
        for(int i=1;i<n;i++){
            a2=b[i];n2=a[i];
            d=a2-a1;
            gcd=exgcd(n1,n2,x,y);
            if(d%gcd)return -1;
            x=((x*d/gcd)%(n2/gcd)+(n2/gcd))%(n2/gcd);
            a1=x*n1+a1;
            n1=n1*n2/gcd;
        }
        return a1;
    }
    void fibo(){
        fi[1]=fi[2]=1;
        for(int i=3;i<70;i++){
            fi[i]=fi[i-1]+fi[i-2];
        }
    }
    int main(){
        fibo();//cout<<fi[69];
        cin>>n;
        for(int i=0;i<n;i++)cin>>a[i]>>b[i];
        ll ans=excrt();
        if(ans==-1)puts("Tankernb!");
        else {
            int flg=0;
            for(int i=0;i<70;i++){
                if(ans==fi[i]){
                    flg=1;break;
                }
            }
            // å…ˆæ‰‹èƒœå½“ä¸”ä»…å½“nä¸æ˜¯Fibonacciæ•°
            if(flg)puts("Lbnb!");
            else puts("Zgxnb!");
        }
        return 0;
    }
    ```

## H. é’è›™çš„çº¦ä¼š

- æ‹“å±•æ¬§å‡ é‡Œå¾—æ±‚çº¿æ€§æ–¹ç¨‹çš„æœ€å°æ­£æ•´æ•°è§£
- è®¾é’è›™æ€»å…±è·³äº†$t$æ­¥ï¼Œåˆ™å¯¹äºç¬¬ä¸€åªé’è›™çš„åæ ‡ä¸º$x+mt$ï¼ŒåŒç†ç¬¬äºŒåªä¸º$y+nt$ï¼Œåˆ™ä¸¤è€…ç›¸é‡$x+mt+kl= y+nt$ï¼Œå¯åŒ–ä¸º$t(m-n) + kl = y-x$ 
- æ³¨æ„æ­£è´Ÿæ•°

```cpp
#include<stdio.h>
#include<iostream>
#include<algorithm>
using namespace std;
typedef long long ll;
ll x,y,m,n,l;
ll extend_gcd(ll a,ll b,ll &x,ll &y){
	if(a==0&&b==0)return -1;
	if(b==0){
		x=1;y=0;return a;
	}
	ll d=extend_gcd(b,a%b,y,x);
	y-=a/b*x;
	return d;
}
ll LinearEqu(ll a,ll b,ll c,ll &x,ll &y){
	ll d=extend_gcd(a,b,x,y);
	if(c%d==0){
		ll k=c/d;x*=k;y*=k;
		return d;
	}
	return -1;
}
int main(){
	cin>>x>>y>>m>>n>>l;
	// t(m-n)+kl = y-x
	// ax + by = c  å·²çŸ¥a,b æ±‚xï¼Œyé€šè§£ 
	ll a=m-n,b=l,c=y-x,xx,yy;
	if(a < 0){a = -a;c = -c;}
	ll jud=LinearEqu(a,b,c,xx,yy);
	if(jud!=-1){
		// æ±‚æœ€å°æ­£æ•´æ•°è§£ 
		ll tmp = l/jud;
		xx = (xx%tmp+tmp)%tmp;
		cout<<xx<<endl;
	}
	else puts("Impossible");
	return 0;
}
```

## I. Aladdin and the Flying Carpet

- è´¨å› å­åˆ†è§£ $n = p_1^{a_1} x p_2^{a_2} x â€¦ x p_k^{a_k}$
- å› å­ä¸ªæ•° $D = (a_1+1) x (a_2+1) x â€¦ x (a_k+1)$
- æœ‰ä¸€å—çŸ©å½¢(ä¹Ÿå¯èƒ½æ˜¯æ­£æ–¹å½¢)çš„é£æ¯¯ï¼Œç»™äº†é£æ¯¯çš„é¢ç§¯aå’Œæœ€å°å¯èƒ½çš„è¾¹é•¿bï¼Œæ±‚å¯èƒ½æœ‰å¤šå°‘ç§ä¸åŒè¾¹é•¿çš„é£æ¯¯ã€‚
- å¾—å‡ºnçš„å› å­ä¸ªæ•°ä¹‹åï¼Œå†æš´åŠ›æšä¸¾å°äºbçš„æ•°ï¼Œå¦‚æœæ˜¯nçš„å› æ•°å°±å‡æ‰
- é¦–å…ˆæ‰“å¥½è´¨æ•°è¡¨

```cpp
#include<stdio.h>
#include<iostream>
#include<math.h> 
#include<algorithm>
#include<string.h>
using namespace std;
typedef long long ll;
const int maxn=1e6+5;
int t;
ll a,b;
int vis[maxn],pri[maxn],cnt;
void isprime(){
    memset(vis,0,sizeof(vis));
    cnt=0;
    for(int i=2;i<=maxn;i++){
        if(!vis[i])pri[cnt++]=i;
        for(int j=0;j<cnt&&pri[j]*i<=maxn;j++){
            vis[pri[j]*i]=1;
            if(i%pri[j]==0)break;
        }
    }
}
int getFac(ll n){
	int num=0;
	ll ans=1;
	for(int i=0;i<cnt&&1ll*pri[i]*pri[i]<=n;i++){
		if(n%pri[i]==0){
//			cout<<pri[i]<<endl;
			num=0;
			while(n%pri[i]==0){
				num++;
				n/=pri[i];
			}
			ans*=(num+1);
		}
	}
	if(n>1)ans*=2;
	return ans;
}
int main(){
	isprime();
	cin>>t;
	int cas=1;
	while(t--){
		cin>>a>>b;
		ll ans=0;
		if(a<b*b){ans = 0;}
		else{
			ans = getFac(a);
//			cout<<ans<<endl;
			ans /= 2; // {2,3} {3,2}
			// æ—¶é—´ç»™äº†å¾ˆé•¿ æš´åŠ›æšä¸¾ 
			for(int i=1;i<b;i++){
				if(a%i==0)ans--;
			}
		}
		printf("Case %d: %lld\n",cas++,ans);
	}
}
```

# ä¸­ç­‰é¢˜

## G. Different Rules

- ä¸€å…±æœ‰$n$ä¸ªäººï¼Œè¿›è¡Œä¸¤è½®æ¯”èµ›ï¼Œå‡è®¾ç¬¬ä¸€è½®æ¯”èµ›çš„åæ¬¡ä¸º$x$ï¼Œç¬¬äºŒè½®çš„åæ¬¡ä¸º$y$ï¼Œé‚£ä¹ˆè¿™ä¸ªäººçš„å¾—åˆ†ä¸º$x + y$ï¼Œæœ€åçš„æ’ä½ä¼šæŒ‰ç…§å¾—åˆ†çš„éä¸¥æ ¼å‡åºæ’åˆ—ï¼Œé—®è¿™ä¸ªäººæœ€ç»ˆæœ€å¥½çš„åæ¬¡å’Œæœ€å·®çš„åæ¬¡åˆ†åˆ«æ˜¯å¤šå°‘
- æœ€ä½æ’å
  
  | Round 1 | Round 2 |
  | ------- | ------- |
  | 1 | x+y-1 |
  | 2 | x+y-2 |
  | ... | ... |
  | x+y-1 | 1 |

  - ä¸€å…±å¯ä»¥æ„é€ x+y-1ä¸ªï¼Œæœ€ä½æ’å=min(x+y-1,n)
- æœ€é«˜æ’å
  - å½“x+y<=næ—¶ï¼Œæ„é€ åˆ«äººçš„åˆ†æ•°ä¸ºn+1ã€‚å¯ä»¥æ„é€ å‡ºå…¶ä»–äººéƒ½å¤§äºnçš„æ–¹æ¡ˆï¼Œæ­¤æ—¶çš„åæ¬¡ä¸º1.

    | Round 1 | Round 2 |
    | ------- | ------- |
    | 1 | n |
    | 2 | n-1 |
    | ... | ... |
    | n | 1 |

  - å½“x+y>næ—¶ï¼Œå¯çŸ¥åœ¨æŸä¸€è½®ä¸­æ’ååœ¨1~(x+y-n)çš„äººï¼Œæ— æ³•æ„é€ å‡ºæ–¹æ¡ˆä½¿ä»–ä»¬å¤§äºx+yã€‚æ‰€ä»¥åº”è¯¥ä½¿ä½åæ¬¡çš„ç»§ç»­ä½,è®©æ’åæ˜¯1~(x+y-n)çš„äººä¸¤æ¬¡æ’åä¸€æ ·ã€‚æ¯ä¸€æ¬¡å»é™¤1~(x+y-n)çš„äººï¼Œxï¼Œyåœ¨å‰©ä½™äººå†…æ’åå°±ä¼šæå‡ä¸€ä¸ªï¼Œç›´åˆ°x+y=nï¼Œæ­¤æ—¶å°±è½¬æ¢æˆx+y<=nçš„æƒ…å†µï¼Œæ­¤æ—¶x+yåæ¬¡ä¸º1ã€‚è®¾å»é™¤tä¸ªäººï¼Œx-t+y-t=n-tï¼Œè§£å¾—t=x+y-nã€‚åˆ™æœ€é«˜æ’åå°±æ˜¯min(x+y-n+1,n)
    
    | Round 1 | Round 2 |
    | ------- | ------- |
    | 1 | 1 |
    | 2 | 2 |
    | ... | ... |

- [è¯¦ç»†è¯æ˜è¿‡ç¨‹](https://codeforces.com/blog/entry/74146)
- [Bç«™è®²è§£è§†é¢‘](https://www.bilibili.com/video/av91242850?p=2)

```cpp
#include<stdio.h>
#include<iostream>
#include<algorithm>
using namespace std;
typedef long long ll;
int t;
ll n,x,y;
int main(){
	cin>>t;
	while(t--){
		cin>>n>>x>>y;
		ll mi = min(n,x+y-n+1);
		if(mi>1)cout<<mi;
		else cout<<"1";
		cout<<" "<<min(n,x+y-1)<<endl;
	}
	return 0;
} 
```

## E. Triangulation

- ä¸€ä¸ªå¹³é¢ä¸Šæœ‰ğ‘›ä¸ªç‚¹ç»„æˆäº†å‡¸å¤šè¾¹å½¢ï¼Œæ¯æ¬¡å¯ä»¥è¿æ¥ä¸€ä¸ªå¹³é¢ä¸Šçš„ä¸¤ä¸ªç‚¹ã€‚è¦æ±‚è¿çº¿ä¹‹é—´ä¸èƒ½ç›¸äº¤ï¼Œç°åœ¨æ€»å…±æœ‰ğ‘šä¸ªå¹³é¢ï¼Œæ¯ä¸ªå¹³é¢éƒ½æœ‰ä¸€ä¸ªå¤šè¾¹å½¢ã€‚ä¸¤ä¸ªäººè½®æµè¿è¾¹ï¼Œè°ä¸èƒ½è¿è¾¹å°±è¾“äº†ã€‚é—®å…ˆæ‰‹æ˜¯å¦å¿…èƒœã€‚
- æ¯ä¸ªå¹³é¢çš„æ¸¸æˆç‹¬ç«‹ï¼Œæ‰€ä»¥åˆ©ç”¨SGå®šç†ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“æ¯ä¸ªå­æ¸¸æˆçš„sgå€¼ã€‚ä»¤ğ‘ ğ‘”(ğ‘¥)è¡¨ç¤ºå¹³é¢ä¸Šæœ‰ğ‘¥ä¸ªç‚¹æ—¶è¿™ä¸ªæ¸¸æˆçš„sgå€¼ï¼Œé‚£ä¹ˆè¿ä¸€æ¡çº¿ç›¸å½“äºåˆåˆ†æˆäº†ä¸¤ä¸ªå¹³é¢ã€‚(å› ä¸ºè¿çº¿ä¹‹é—´ä¸èƒ½ç›¸äº¤)ï¼Œåˆ™æœ‰sg(x)=mex{sg(i)â¨sg(x-i-2)}
- æ‰“è¡¨æ‰¾è§„å¾‹-n>68ä¹‹åä¼šå‡ºç°é•¿åº¦ä¸º34çš„å¾ªç¯
  
```cpp
#include<stdio.h>
#include<iostream>
#include<math.h> 
#include<algorithm>
#include<string.h>
using namespace std;
typedef long long ll;
const int maxn=1e6+5;
int SG[maxn],S[maxn];
void solve()
{
    int i,j;
    SG[1]=SG[0]=0;
    int n=110;
    for(i=2;i<n;i++){
        memset(S,0,sizeof(S));
        for(j=0;i-j-2>=0;j++) S[SG[j]^SG[i-j-2]]=1;
        for(j=0;S[j];j++);
        SG[i]=j;
    }
}

int getSG(int a){
    return a<=68?SG[a]:SG[68+(a%34?a%34:34)];
}

int main(){
	int t,n,a;
    scanf("%d",&t);
    solve();
    while(t--)
    {
        scanf("%d",&n);
        int sg=0;
        while(n--){
            scanf("%d",&a);
            sg=sg^getSG(a);
        }

        printf("%s\n",sg?"Carol":"Dave");
    }
    return 0;
}
```
